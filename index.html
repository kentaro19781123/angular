<!DOCTYPE html>
<html>
<head>
	<title>Angular Web</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="style.css">

	<script src="https://npmcdn.com/core-js/client/shim.min.js"></script>
	<script src="https://npmcdn.com/zone.js@0.6.12?main=browser"></script>
	<script src="https://npmcdn.com/reflect-metadata@0.1.3"></script>
	<script src="https://npmcdn.com/systemjs@0.19.27/dist/system.src.js"></script>

	<script src="systemjs.config.js"></script>
	<script>
	  System.import('app').catch(
			function(err){ console.error(err); }
		);
		System.import('app2').catch(
			function(err){ console.error(err); }
		);
		System.import('app3').catch(
			function(err){ console.error(err); }
		);
		System.import('form').catch(
			function(err){ console.error(err); }
		);
	</script>
</head>

<body>
	<h1>Angular</h1>

	<h2>Webページを作成してみる</h2>
	<pre>
		SystemJSの機能を利用してモジュールのロードを行なっている
		コンポーネントを独自定義したタグが利用できる
	</pre>

	<h2>コンポーネントの基本ソースコード</h2>
	<pre>
		必要なクラスをロードするための「import」文
		import { クラス名 } from パッケージ;

		コンポーネントに関する情報を記述するためのもの
		@Component({ ...必要な情報... })
		@で始まる文は「アノテーション」と呼ばれ、オブジェクトに必要な情報を追記するために用いられる

		定義したコンポーネントをexportで宣言する
		export class AppComponent(...必要な情報...);
	</pre>

	<h2>コンポーネントはどこで認識されるのか</h2>
	<pre>
		systemjs.config.jsの中の
		var  map = {
			'app': 'app', // パッケージ名：フォルダ名
		ここで、appフォルダをappという名前のパッケージで登録している

		var packages = {
			'app': { main: 'main.ts',  defaultExtension: 'ts' },
		appパーケージのプログラムが指定されている
	</pre>
	<div class="result">
		<my-app>Loading...</my-app>
	</div>

	<h1>コンポーネントを使いこなす</h1>
	<h2>テンプレートに値を渡す</h2>
	<pre>
		templateに変数をうめ込んておき、export時に値を渡して表示する
		template:&lt;h1&gt;{{変数名}}&lt;/h1&gt;

		export class AppComponent {
			変数名 = "Hello!";
	</pre>
	<div class="result">
		<my-app2>Loading...</my-app2>
	</div>

	<h2>複数コンポーネントの利用</h2>
	<pre>
		@Componentを必要な数だけ作成する
	</pre>
	<div class="result">
		<my-app3>Loading...</my-app3>
		<other-app>Loading...</other-app>
	</div>


	<h2>フォームの利用とモデル</h2>
	<pre>
		値を保持するモデルを用意する。
		コンポーネントに用意するイベント処理ではこのモデルの値にアクセスし、フォームの処理を行う。

		ngModelは、フォームへモデルをバインドするために用いる属性
	</pre>
	<div class="result">
		<form-app>Loading...</form-app>
	</div>


	<h2>テンプレートファイルを利用する</h2>
	<pre>
		@Component内でtemplateプロパティはつかわない。
		templateUrlでテンプレートのパスを指定する

		[(ngModel)]="model.check
		チェックボックスのモデルへの値のバインド

		(change)="model.radio='A'
		(change)="model.radio='B'
		ラジオボタンの値のバインド

	</pre>
	<div class="result">
		<form-app2>Loading...</form-app2>
	</div>


	<h2>コンポーネントでのselectの利用</h2>
	<pre>
		[(ngModel)]="model.select"
		値をモデルのプロパティにバインド

		[size]="items.length"
		sizeプロパティ（itemsの要素数がsizeに指定される）

		*ngFor="let item of items"
		繰り返し処理
	</pre>
	<div class="result">
		<form-app3>Loading...</form-app3>
	</div>


	<h2>スタイルをバインドする</h2>
	<pre>
		モデルにcolor、backgroundといったプロパティを用意する。
		クラスではsetStyleメソッドを用いる
		[ngStyle]="setStyle()で呼び出して取得してる

	</pre>
	<div class="result">
		<form-app4>Loading...</form-app4>
	</div>


	<h2>クラスを操作する</h2>
	<pre>
		[(ngModel)]="model.classA"でオブジェクト内のプロパティにバインド
		[ngClass]="setClass()でsetClass()でメソッドを呼び出し、値をバインドしている
	</pre>
	<div class="result">
		<form-app5>Loading...</form-app5>
	</div>

</body>
</html>
